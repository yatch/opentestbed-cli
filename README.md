# OpenTestbed-CLI: CLI tools for [OpenTestbed](https://github.com/openwsn-berkeley/opentestbed)

## Installation
1. Install Python 3
1. Clone or download this repository
1. Move into the downloaded repository
1. Install (in editable mode): `$ pip install -e . -r requirements.txt`

## Usage
You can get help messages by:
```shell
$ opentestbed-cli --help
or
$ opentestbed-cli mote --help
or
$ opentestbed-cli otbox --help
```

Note that some of `mote` commands work only with [OpenWSN
firmware](https://github.com/openwsn-berkeley/openwsn-fw)
(`03oos_openwsn`), for instance, `reset` and `set_dagroot`.

## Configuration
Edit `config.yml` or specify your own `config.yml` with `-c` option:

```shell
$ cat config.yml
opentestbed:
  mqtt_broker:
    address: mqtt.example.com
    port: 1883
  token: 111

6tisch:
  link_layer_key:
    index: 1
    value: ff-ff-ff-ff-ff-ff-ff-ff-ff-ff-ff-ff-ff-ff-ff-ff
  prefix: '2001:0DB8::'
```

## Development
If you want to add a new command, add a public method to
`OTBox`([cli/otbox.py](cli/otbox.py)) or
`Mote`([cli/mote.py](cli/mote.py)). The public method, whose name
doesn't start with an underscore (`_`), should be automatically
recognized as sub-commands of `otbox` or `mote` accordingly.
