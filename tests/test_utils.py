import base64
import os

from cli.utils import get_base64_string

DUMMY_BINARY_FILE_PATH = os.path.join(os.path.dirname(__file__),
                                      'dummy_binary_file')

def test_get_base64_string():
    with open(DUMMY_BINARY_FILE_PATH, 'rb') as f:
        file_size = os.path.getsize(DUMMY_BINARY_FILE_PATH)
        expected_base64_string = base64.encodebytes(f.read(file_size))

    assert get_base64_string(DUMMY_BINARY_FILE_PATH) == expected_base64_string
